<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Conversations - Admin</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body id="page-history">

    <aside class="sidebar">
        <h2>Chat History</h2>
        <a href="admin_dashboard_main_hub.html" class="nav-link nav-dashboard">Dashboard</a>
        <a href="customer-list.html" class="nav-link nav-customers">Customer List</a>
        <a href="auto_reply_template_manager.html" class="nav-link nav-templates">Template Manager</a>
        <a href="chat-history.html" class="nav-link nav-history">Chat History</a>
        <a href="inquiry-repository.html" class="nav-link nav-repository">Inquiry Repository</a>
        <a href="lead-scoring.html" class="nav-link nav-scoring nav-child">Lead Scoring</a>
    </aside>

    <main class="main">
        <div class="header">
            <div>
                <h1>Conversations</h1>
                <p style="font-size: 0.8rem; color: var(--gray); margin: 5px 0 0 0;">Manage live customer interactions</p>
            </div>
            <div style="display: flex; align-items: center; gap: 15px;">
                <span style="font-size: 13px; font-weight: 600; color: var(--green);">‚óè System Online</span>
                <button class="btn btn-blue">+ New Chat</button>
            </div>
        </div>

        <div class="chat-app-container">
            <div class="chat-sidebar">
                <div style="padding: 15px; border-bottom: 1px solid #e2e8f0;">
                    <input type="text" placeholder="Search conversations..." style="padding: 8px;">
                </div>
                
                <div class="chat-thread active">
                    <div style="display: flex; justify-content: space-between;">
                        <strong style="font-size: 14px;">Ananya Ravikumar</strong>
                        <span style="font-size: 10px; color: var(--gray);">12:07 PM</span>
                    </div>
                    <p style="font-size: 12px; color: var(--gray); margin: 4px 0;">lightningboi676@gmail.com</p>
                    <div style="margin-top: 8px; display: flex; align-items: center; justify-content: space-between;">
                        <span><span class="status-indicator" style="background: var(--green);"></span><small>Ongoing</small></span>
                        <button class="btn btn-gray" style="padding: 2px 8px; font-size: 10px;">View Chat</button>
                    </div>
                </div>

                <div class="chat-thread">
                    <div style="display: flex; justify-content: space-between;">
                        <strong style="font-size: 14px;">Eugene Tan</strong>
                        <span style="font-size: 10px; color: var(--gray);">Yesterday</span>
                    </div>
                    <p style="font-size: 12px; color: var(--gray); margin: 4px 0;">eugene.tan@work.com</p>
                    <div>
                        <span class="status-indicator" style="background: var(--red);"></span><small>Closed</small>
                    </div>
                </div>
            </div>

            <div class="chat-main">
                <div style="padding: 15px 25px; border-bottom: 1px solid #e2e8f0; display: flex; justify-content: space-between; align-items: center; background: #fff;">
                    <div style="display: flex; align-items: center; gap: 12px;">
                        <div class="avatar" style="width: 35px; height: 35px; font-size: 12px;">AR</div>
                        <div>
                            <h4 style="margin: 0; font-size: 15px;">Ananya Ravikumar</h4>
                            <small style="color: var(--gray);">High Importance Lead</small>
                        </div>
                    </div>
                    <div class="btn-group">
                        <button class="btn btn-gray">Transcribe</button>
                        <button class="btn btn-blue">Take Over Chat</button>
                    </div>
                </div>

                <div class="chat-messages-area" id="chatWindow">
                    <div class="msg-bubble msg-bot">Chatbot: Hello! How can I assist you today?</div>
                    <div class="msg-bubble msg-customer">Hi, I'm interested in the pricing for the premium plan.</div>
                    <div class="msg-bubble msg-agent">Hello! I can definitely help with that. Are you looking for a monthly or annual subscription?</div>
                </div>

                <div class="chat-input" style="padding: 15px 25px;">
                    <button class="btn btn-gray" style="border-radius: 50%; width: 40px; height: 40px; padding: 0;">+</button>
                    <input type="text" id="msgInput" placeholder="Type your response as an agent..." onkeypress="checkEnter(event)">
                    <button class="btn btn-blue" onclick="sendMessage()" style="padding: 0 20px;">Send</button>
                </div>
            </div>
        </div>
    </main>

    <script>
        function sendMessage() {
            const input = document.getElementById('msgInput');
            const window = document.getElementById('chatWindow');
            if(input.value.trim() !== "") {
                const div = document.createElement('div');
                div.className = 'msg-bubble msg-agent';
                div.innerText = input.value;
                window.appendChild(div);
                input.value = "";
                window.scrollTop = window.scrollHeight;
            }
        }
        function checkEnter(e) { if(e.key === 'Enter') sendMessage(); }
    </script>
</body>
</html>